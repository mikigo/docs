"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["694"],{4996:function(e,n,s){s.r(n),s.d(n,{default:()=>t});var r=s(2676),h=s(453);function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",ul:"ul",li:"li"},(0,h.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"ftp服务器无法连接问题",children:["ftp服务器无法连接问题",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ftp服务器无法连接问题",children:"#"})]}),"\n",(0,r.jsxs)(n.h2,{id:"问题描述",children:["问题描述",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#问题描述",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"使用vsftpd搭建好ftp服务器之后，无法访问服务器，且配置文件的配置项设置完全正确。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"步骤："})}),"\n",(0,r.jsx)(n.p,{children:"1、打开UOS系统计算机 - 菜单 - 连接到服务器"}),"\n",(0,r.jsx)(n.p,{children:"2、输入ftp服务器地址：ftp://10.8.11.xx"}),"\n",(0,r.jsx)(n.p,{children:"3、选择匿名 - 点击连接"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"现象："})}),"\n",(0,r.jsxs)(n.p,{children:["提示",(0,r.jsx)(n.code,{children:"挂载设备出错"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"预期："})}),"\n",(0,r.jsx)(n.p,{children:"连接成功，并展示ftp服务器中文件"}),"\n",(0,r.jsxs)(n.h2,{id:"根因",children:["根因",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根因",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"vsftpd在2.5.5版本针对ftp目录自主访问控制权加入了安全策略，若ftp目录权限为 777，则会拒绝连接。"}),"\n",(0,r.jsxs)(n.h2,{id:"解决办法",children:["解决办法",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#解决办法",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"修改ftp目录权限即可解决"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"$ chmod 755 /xx/ftp\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"补充",children:["补充",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#补充",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"1、除此之外如果遇上vsftpd的服务无法启用，存在以下几种可能："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"21端口被占用"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ netstat -natp |grep 21\n# 杀掉查出的占用21端口的进程\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"配置文件中ipv4和ipv6同时开启或关闭"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ vim /etc/vsftpd.conf\n# 修改以下两项为\nlisten=YES\nlisten_ipv6=NO\n"})}),"\n",(0,r.jsx)(n.p,{children:"2、目录权限为755时，就算对匿名用户开放了上传权限，也无法上传成功，可在ftp匿名主目录下创建一个权限为777的文件目录，匿名用户要上传文件时，上传至该目录即可。"})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,h.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}let t=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["blog%2F2024%2Fftp%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98.md"]={toc:[{text:"问题描述",id:"问题描述",depth:2},{text:"根因",id:"根因",depth:2},{text:"解决办法",id:"解决办法",depth:2},{text:"补充",id:"补充",depth:2}],title:"ftp服务器无法连接问题",headingTitle:"ftp服务器无法连接问题",frontmatter:{Author:"海针"}}}}]);