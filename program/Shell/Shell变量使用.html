<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.44.0">
    <title data-rh="true">Shell变量使用 - mikigo`s docs</title><meta data-rh="true" name="description" content="mikigo`s docs"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><link rel="icon" href="/favicon.ico"><script defer src="/static/js/styles.8c99b0ac.js"></script><script defer src="/static/js/lib-react.a9370160.js"></script><script defer src="/static/js/lib-router.7fe45264.js"></script><script defer src="/static/js/9229.0e7c1956.js"></script><script defer src="/static/js/index.9dea5519.js"></script><link href="/static/css/styles.403eeeaf.css" rel="stylesheet"></head>

  <body >
    <div id="root"><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.png" alt="logo" id="logo" class="rspress-logo"/></div><span>mikigo`s docs</span></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">搜索文档</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🏠首页</div></a><a href="/program/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">💻编程</div></a><a href="/blog/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">✍️博客</div></a><a href="/cookbook/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🧑‍🍳菜谱</div></a><a href="/about.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🥷关于</div></a></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/mikigo/mikigo.github.io" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🏠首页</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/program/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">💻编程</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/blog/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">✍️博客</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/cookbook/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🧑‍🍳菜谱</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/about.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">🥷关于</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/mikigo/mikigo.github.io" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><aside class="sidebar_dd719 rspress-sidebar "><div class="navTitleMask_fb17c"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.png" alt="logo" id="logo" class="rspress-logo"/></div><span>mikigo`s docs</span></a></div></div><div class="rspress-scrollbar sidebarContent_da296"><nav class="pb-2"><a href="/program/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>章节预览</span></div></a><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">自动化测试</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">自动化测试框架</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/autotest/自动化测试框架/Pytest从入门到起飞.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pytest 从入门到起飞</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/自动化测试框架/unittest—3小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>unittest—3小时入门版</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">UI自动化</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/autotest/UI自动化/Appium—6小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Appium—6小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/UI自动化/Playwright—8小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Playwright—8小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/UI自动化/Selenium—8小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Selenium—8小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/UI自动化/智能化功能测试.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>智能化功能测试</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/UI自动化/智能化性能测试.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>智能化性能测试</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">性能自动化</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/autotest/性能自动化/JMeter—10小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>JMeter—10小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/性能自动化/Locust—2小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Locust—2小时入门版</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">接口自动化</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/autotest/接口自动化/HttpRunner-2小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HttpRunner—2小时入门版</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">自动化思想理念</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/autotest/自动化思想理念/PageObjects.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>PageObjects（PO）</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/autotest/自动化思想理念/RPA测试技术.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>RPA测试技术</span></div></a></div></div></div></section></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Python</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/Python/Linux上如何选择用pip3还是sudopip3.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux 上如何选择用 pip3 还是 sudo pip3</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Linux上安装Python3.9.9.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux 上安装 Python 3.9.9</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/MMDetection入门基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MMDetection 入门基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/OpenCV(Python)基础—9小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>OpenCV(Python)基础—9小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python从进阶到高级—通俗易懂版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python从进阶到高级—通俗易懂版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python包构建和发布.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python包构建和发布</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python基础语法—8小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python基础语法—8小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python最强静态代码检查&amp;格式化工具Ruff.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python最强代码检查&amp;格式化工具Ruff</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python环境与依赖管理.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python环境与依赖管理</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/Python风格指南.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Python风格指南</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/常用的获取随机字符串的方法.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>常用的获取随机字符串的方法</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Python/配置Python源的几种方法.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>配置 Python 源的几种方法</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Linux</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/Linux/Docker入门.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Docker入门</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/FFmpeg常用命令与参数解释.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FFmpeg常用命令与参数解释</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/FTP服务搭建.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FTP服务搭建</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/KVM安装配置及使用说明.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>KVM安装配置及使用说明</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/Linux上sudo免密.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux 上 sudo 免密</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/Linux上远程桌面VNC配置.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux 上远程桌面 VNC 服务配置</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/Linux基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux&amp;Shell基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/NVIDIA驱动&amp;CUDA&amp;cuDNN安装.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>NVIDIA驱动&amp;CUDA&amp;cuDNN安装</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/Nginx入门使用.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Nginx入门使用</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/U盘新建分区和文件系统.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>U盘新建分区和文件系统</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/dde-dconfig使用.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>dde-config使用</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/deb安装包制作.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>deb安装包制作</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/vim配置和插件选择.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>vim配置和插件使用</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Linux/配置开机自启服务.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>配置开机自启服务</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Shell</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/Shell/Shell参数传递.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell参数传递</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell变量使用.html" class="link_a7cea menuLink_bb039"><div class="menuItemActive_de63c mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell变量使用</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell字符串处理.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell字符串处理</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell数学运算.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell数学运算</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell编码规范错误参考手册.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell编码规范错误参考手册</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell进程控制.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell进程调用</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Shell/Shell风格指南.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell风格指南</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">前后端</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/前后端/CSS基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CSS 基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/Django基础知识.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Django基础知识</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/Django进阶技巧.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Django进阶技巧</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/FastAPI—8小时入门版.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>FastAPI—8小时入门版</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/JS基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>JS基础教程</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/Linux上安装Nodejs.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Linux 上安装 Nodejs</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/MySQL基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MySQL基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/Vue基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Vue基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/Web基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>web基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/html基础.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>HTML 基础</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/测开前端学习基础分享.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>测开前端学习基础分享</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/前后端/研测平台权限管理前端设计.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>平台权限管理前端设计</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Jenkins</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/Jenkins/Jenkins环境搭建以及任务创建.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Jenkins环境搭建以及任务创建</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/Jenkins/Pipeline语法介绍.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Pipeline语法介绍</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">网络爬虫</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><a href="/program/网络爬虫/Httpx.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Httpx</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/网络爬虫/Requests.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Requests</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/网络爬虫/Scrapy.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Scrapy</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">技术文档</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:12px"><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">专利交底书</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种dock栏展示和交互方法技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种dock栏展示和交互方法技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种基于Linux系统执行自动化测试用例实现负载均衡的技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种基于Linux系统执行自动化测试用例实现负载均衡的技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种基于图像识别的桌面应用控件智能标注的交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种基于图像识别的桌面应用控件智能标注的交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种基于机器学习智能识别元素控件的UI自动化测试方法.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种基于机器学习智能识别元素控件的UI自动化测试方法</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种定位目标图片坐标的图像识别技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种定位目标图片坐标的图像识别技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种对使用Linux包管理器安装的Python包进行虚拟化的技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种对使用Linux包管理器安装的Python包进行虚拟化的技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种机器分离的应用响应性能自动化测试方案技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种机器分离的应用响应性能自动化测试方案技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种系统文件基于事物属性对其进行多维度多空间管理方法的交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种系统文件基于事物属性对其进行多维度多空间管理方法的交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种自动化测试用例步骤中断后恢复执行的技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种自动化测试用例步骤中断后恢复执行的技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种自动安装镜像的技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种自动安装镜像的技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/一种针对Linux系统异常命令的测试方法技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>一种针对Linux系统异常命令的测试方法技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/基于shell的测试框架技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基于shell的测试框架技术交底书</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/专利交底书/基于视频播放器外部获取播放中视频FPS的测试技术交底书.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>基于视频播放器获取播放中视频资源FPS的测试技术交底书</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">技术调研</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/wayland键鼠模拟工具技术调研.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Wayland键鼠模拟工具技术调研</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/youqu3中断任务续跑功技术能调研.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>youqu3中断任务续跑功能调研</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《Avocado和YouQu对比》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Avocado和YouQu对比调研报告</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《可用于UOS桌面应用性能自动化工具》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>可用于UOS桌面应用性能自动化工具的调研</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《命令行用例转换自动化测试》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>命令行用例转换自动化测试调研</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《应用于桌面应用压力测试的模拟输入工具》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>应用于桌面应用压力测试的模拟输入工具调研报告</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《获取影院播放视频FPS方法》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>获取影院播放视频FPS方法</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/《针对PMS用例数据检查与自动化工程CSV文件数据同步的方法》调研报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>针对PMS用例数据检查与自动化工程CSV文件数据同步的方法调研报告</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/技术调研/域管自动化测试技术调研.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>域管自动化测试技术调研</span></div></a></div></div></div></section></div><div class="rspress-sidebar-item"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:18px"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex"><span class="flex-center" style="font-size:13px">根因分析</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(0deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden;max-height:0"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:0;margin-left:0"><div class="rspress-sidebar-item"><a href="/program/tech_doc/根因分析/Python调用动态库运行时报静态TLS块不能分配内存根因分析报告.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span><code>Python</code>调用动态库运行时报静态<code>TLS</code>块不能分配内存根因分析报告</span></div></a></div><div class="rspress-sidebar-item"><a href="/program/tech_doc/根因分析/rootfs进入MATE桌面后打开终端不能执行reboot指令根因分析.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>rootfs进入MATE桌面后打开终端不能执行reboot指令根因分析</span></div></a></div></div></div></section></div></div></div></section></nav></div></aside><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button type="button" class="flex-center ml-auto"><span class="text-sm">本页目录</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#1-变量的声明" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">1. 变量的声明</span></a></li><li><a href="#11-常用内置变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">1.1 常用内置变量</span></a></li><li><a href="#12-变量的声明" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">1.2 变量的声明</span></a></li><li><a href="#121-变量的声明与赋值" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">1.2.1 变量的声明与赋值</span></a></li><li><a href="#122-删除变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">1.2.2 删除变量</span></a></li><li><a href="#123-readonly只读变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">1.2.3 <code>readonly</code>只读变量</span></a></li><li><a href="#124-declare声明变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">1.2.4 <code>declare</code>声明变量</span></a></li><li><a href="#2-变量的应用" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">2 变量的应用</span></a></li><li><a href="#21-变量的作用域" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2.1 变量的作用域</span></a></li><li><a href="#211-全局变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">2.1.1 全局变量</span></a></li><li><a href="#212-局部变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">2.1.2 局部变量</span></a></li><li><a href="#213-环境变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">2.1.3 环境变量</span></a></li><li><a href="#22-变量替换" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2.2 变量替换</span></a></li><li><a href="#23-变量嵌套" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2.3 变量嵌套</span></a></li><li><a href="#231-eval" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">2.3.1 <code>eval</code></span></a></li><li><a href="#232-varname变量名前缀" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">2.3.2 <code>${!varname*}</code>变量名前缀</span></a></li><li><a href="#3-awksed内使用外部变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">3 awk/sed内使用外部变量</span></a></li><li><a href="#31-sed使用外部变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">3.1 sed使用外部变量</span></a></li><li><a href="#32-awk使用外部变量" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">3.2 awk使用外部变量</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><h1 id="shell变量使用" class="rspress-doc-title text-3xl mb-10 leading-10 tracking-tight title_fb7eb">Shell变量使用<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#shell变量使用">#</a></h1>
<h2 id="1-变量的声明" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">1. 变量的声明<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-变量的声明">#</a></h2>
<p class="my-4 leading-7">在Shell脚本内，变量是可以不先声明而直接使用的。有过传统语言编程经验的小伙伴习惯先声明再使用，这是个好的编程习惯。</p>
<h3 id="11-常用内置变量" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">1.1 常用内置变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#11-常用内置变量">#</a></h3>
<p class="my-4 leading-7">函数或者命令接收参数时，按照位置获取参数。</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider">
<thead>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<th class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">工具/表达式</th>
<th class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">案例说明</th>
</tr>
</thead>
<tbody>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$0</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">代表命令或者脚本本身，如常用<code>basename $0</code> 输出脚本名称本身。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$1~$n</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">第1个到第n个参数,从第10参数开始，引用时要加<code>{}</code>，如$<code>{10}</code></td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$#</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">传入的参数个数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$*</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">传入的全部参数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$@</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">传入的全部参数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$$</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">当前运行的进程ID</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$!</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">最后一个后台进程的ID</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$?</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">最后一个执行命令的返回码</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$_</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">最后执行的命令的最后一个参数的值</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PPID</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">shell 的父进程的进程号</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$BASH</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">扩展为用来启动当前 bash 实例的文件全名</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$BASH_VERSION</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">一个只读数组变量，成员保存着当前 bash 实例的版本信息。<!-- -->赋予数组元素的值是如下这些：       <code>BASH_VERSINFO[0]</code>       主版本号 (release).<code>BASH_VERSINFO[1]</code>        次版本号 (version).<!-- --> <code>BASH_VERSINFO[2]</code>        补丁版本<code>BASH_VERSINFO[3]</code>        编译信息<code>BASH_VERSINFO[4]</code>        发布时的状态 (例如, beta1).<code>BASH_VERSINFO[5]</code>        MACHTYPE 平台类型</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$UID</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">UID    扩展为当前用户的 ID，在启动时初始化。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$GROUPS</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">一个数组变量，包含当前用户所属的组的列表</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$HOME</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">前用户的个人家目录，内建命令 cd 的默认参数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$HOSTNAME</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">自动设置为当前的主机名。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$IFS</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">内部字段分隔符 Internal Field Separator 用来在扩展之后进行分词</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PATH</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">索命令的路径</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PWD</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">由 cd 命令设置的当前工作目录。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$OLDPWD</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">上一次命令 cd 设置的工作目录。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$LINENO</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">引用这个参数时，shell 将它替换为一个指示在脚本或函数中当前行号的十进制数字(从 1 开始)</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$FUNCNAME</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">前执行的 shell 函数名。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$OSTYPE</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">正在运行 bash 的操作系统类型。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$MACHTYPE</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">正在运行 bash 的硬件系统类型</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$RANDOM</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">引用这个参数时，都会产生一个 0 到 32767 之间的随机整数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$SECONDS</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">引用这个参数时，返回 shell 自运行以来的秒数</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$TMOUT</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">如果设置为大于  0 的值，TMOUT 被当作内建命令 read 的默认超时 等待时间。可以用来设置终端无操作的超时时间</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$HISTSIZE</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">令历史中保存的历史数量,默认值是 500。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PS1</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">用作主提示符字符串</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PS2</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">个参数的值同 PS1 一起被扩展，用作次提示符字符串。</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$PS4</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">这个参数的值同 PS1 一起被扩展，在执行跟踪中在 bash 显示每个命令之前显示</td>
</tr>
</tbody>
</table>
<p class="my-4 leading-7">更多内置变量详情，可查看<code>man bash</code></p>
<h3 id="12-变量的声明" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">1.2 变量的声明<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#12-变量的声明">#</a></h3>
<h4 id="121-变量的声明与赋值" class="mt-8 leading-6 text-lg title_fb7eb">1.2.1 变量的声明与赋值<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#121-变量的声明与赋值">#</a></h4>
<p class="my-4 leading-7"><code>test@test-PC:~/work/study/shell/share/1$ vi var.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var1</span><span class="token operator">=</span><span>            </span><span class="token" style="color:var(--code-token-comment)">#变量赋值为空串</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var2</span><span class="token operator">=</span><span>abc         </span><span class="token" style="color:var(--code-token-comment)">#变量赋值为abc</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var3</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&#x27;It sales $125.00&#x27;</span><span>    </span><span class="token" style="color:var(--code-token-comment)">#使用单引号，避免字符串$符号被解析</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var4</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;It&#x27;s my book.&quot;</span><span>       </span><span class="token" style="color:var(--code-token-comment)">#使用双引号</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var5</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span class="token" style="color:var(--code-token-variable)">${var4}</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>             </span><span class="token" style="color:var(--code-token-comment)">#变量的结果可以赋值给另一变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var6</span><span class="token operator">=</span><span class="token number">4</span><span>                     </span><span class="token" style="color:var(--code-token-comment)">#变量值可以为数字， 在shell变量存储是以字符串方式存储</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var7</span><span class="token operator">=</span><span class="token number">3.14159</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var8</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-variable)">$((</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-variable)"> ${var6} </span><span class="token operator" style="color:var(--code-token-variable)">+</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">10</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token operator" style="color:var(--code-token-variable)">*</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">2</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-variable)">))</span><span>  </span><span class="token" style="color:var(--code-token-comment)">#表达式的结果可以赋值给变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var9</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-string)">&quot;scale=2; </span><span class="token" style="color:var(--code-token-string)">${var6}</span><span class="token" style="color:var(--code-token-string)">*</span><span class="token" style="color:var(--code-token-string)">${var7}</span><span class="token" style="color:var(--code-token-string)">/3&quot;</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token operator" style="color:var(--code-token-variable)">|</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-function)">bc</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token" style="color:var(--code-token-variable)">)</span><span>   </span><span class="token" style="color:var(--code-token-comment)"># 命令的执行结果可以赋值给变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var10</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-variable)">`</span><span class="token" style="color:var(--code-token-function)">expr</span><span class="token" style="color:var(--code-token-variable)"> $</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span class="token" style="color:var(--code-token-variable)">var6</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-variable)"> + $</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span class="token" style="color:var(--code-token-variable)">var8</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-variable)">`</span><span>    </span><span class="token" style="color:var(--code-token-comment)"># 另一种执行命令的方式，结果赋值给变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var11</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;a&#x27;</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;b&#x27;</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;c&#x27;</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;d&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">)</span><span>         </span><span class="token" style="color:var(--code-token-comment)"># 变量可以为数组</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">func</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">$1</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">var12</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-variable)">func $</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span class="token" style="color:var(--code-token-variable)">var6</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-variable)">)</span><span>   </span><span class="token" style="color:var(--code-token-comment)"># 函数的执行结果可以赋值给变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">for</span><span> </span><span class="token for-or-select" style="color:var(--code-token-variable)">i</span><span> </span><span class="token" style="color:var(--code-token-keyword)">in</span><span> </span><span class="token" style="color:var(--code-token-variable)">`</span><span class="token" style="color:var(--code-token-function)">seq</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">1</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">12</span><span class="token" style="color:var(--code-token-variable)">`</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">do</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span> </span><span class="token" style="color:var(--code-token-variable)">$i</span><span> -eq </span><span class="token number">11</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> </span><span class="token operator">&amp;&amp;</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">eval</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;var</span><span class="token" style="color:var(--code-token-variable)">${i}</span><span class="token" style="color:var(--code-token-string)">=\</span><span class="token" style="color:var(--code-token-variable)">${var${i}</span><span class="token" style="color:var(--code-token-string)">[@]}&quot;</span><span> </span><span class="token operator">&amp;&amp;</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">continue</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">eval</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;var</span><span class="token" style="color:var(--code-token-variable)">${i}</span><span class="token" style="color:var(--code-token-string)">=\</span><span class="token" style="color:var(--code-token-variable)">${var${i}</span><span class="token" style="color:var(--code-token-string)">}&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">done</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">脚本执行结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/work/study/shell/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> var.sh 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var1</span><span class="token operator">=</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var2</span><span class="token operator">=</span><span>abc
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var3</span><span class="token operator">=</span><span>It sales </span><span class="token" style="color:var(--code-token-variable)">$125</span><span>.00
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var4</span><span class="token operator">=</span><span>It</span><span class="token" style="color:var(--code-token-string)">&#x27;s my book.
</span></span><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-string)">var5=It&#x27;</span><span>s my book.
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var6</span><span class="token operator">=</span><span class="token number">4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var7</span><span class="token operator">=</span><span class="token number">3.14159</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var8</span><span class="token operator">=</span><span class="token number">28</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var9</span><span class="token operator">=</span><span class="token number">4.18</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var10</span><span class="token operator">=</span><span class="token number">32</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var11</span><span class="token operator">=</span><span>a b c d
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var12</span><span class="token operator">=</span><span class="token number">4</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">注意以下几点：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">变量名由数字、字母、下划线组成，并且必须以数字，字母开头，不能包含Shell关键字。</li>
<li class="[&amp;:not(:first-child)]:mt-2">变量名称与值之间用<code>=</code>连接，<code>=</code>两点不能有空格。在<code>$((...))</code>,<code>$[...]</code> 表达式内除外。</li>
<li class="[&amp;:not(:first-child)]:mt-2">Bash变量可以不用指定类型，默认都是字符串。</li>
<li class="[&amp;:not(:first-child)]:mt-2">变量赋值使用单引确保引号内的字符串不被转义，不被解析，保持原本输出。 而使用双引号，引号内字符串包含变量，命令，转义符将先会被解析后再赋值给变量。</li>
</ul>
<h4 id="122-删除变量" class="mt-8 leading-6 text-lg title_fb7eb">1.2.2 删除变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#122-删除变量">#</a></h4>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>unset var             # 清除变量
</code></div></div>
<h4 id="123-readonly只读变量" class="mt-8 leading-6 text-lg title_fb7eb">1.2.3 <code>readonly</code>只读变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#123-readonly只读变量">#</a></h4>
<p class="my-4 leading-7">用<code>readonly</code>声明的变量是只读的，不能修改。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">readonly</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">rvar</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;TEST&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">rvar</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;MOD&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">执行修改：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/work/study/shell/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> readonly.sh
</span></span><span style="display:block;padding:0 1.25rem">readonly.sh:行4: rvar：只读变量</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">注意</strong>
<code>readonly</code>和<code>local</code>不能同时使用，如果同时使用，则在最前面的生效，后面的则失效，具体原理尚未深究。<br/>
<!-- -->如 <code>readonly loacl var=123</code> : <code>readonly</code>生效，<code>local</code>失效。<br/>
<!-- -->如 <code>local readonly var=123</code> ：<code>local</code>生效，<code>readonly</code>失效。</p>
<h4 id="124-declare声明变量" class="mt-8 leading-6 text-lg title_fb7eb">1.2.4 <code>declare</code>声明变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#124-declare声明变量">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>declare -i</code> : 声明整型变量</li>
</ul>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -i </span><span class="token assign-left" style="color:var(--code-token-variable)">intval</span><span class="token operator">=</span><span class="token number">123</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#声明一个整型</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">$intval</span><span> 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token number">123</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token assign-left" style="color:var(--code-token-variable)">intval</span><span class="token operator">=</span><span>abc    </span><span class="token" style="color:var(--code-token-comment)">#将字符串赋值给整型变量，结果被转换为0</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">$intval</span><span> 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token number">0</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>declare -r</code>: 声明只读变量</li>
</ul>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -r </span><span class="token assign-left" style="color:var(--code-token-variable)">rdval</span><span class="token operator">=</span><span class="token number">123</span><span>  </span><span class="token" style="color:var(--code-token-comment)">#声明只读变量，等同readonly rdval=123</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token assign-left" style="color:var(--code-token-variable)">rdval</span><span class="token operator">=</span><span class="token number">456</span><span>    </span><span class="token" style="color:var(--code-token-comment)">#只读变量不能被修改</span><span>
</span></span><span style="display:block;padding:0 1.25rem">-bash: rdval：只读变量
</span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">$rdval</span><span> 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token number">123</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>declare -a</code>: 声明数组变量</li>
</ul>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">arr</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;a&#x27;</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;b&#x27;</span><span> </span><span class="token number">1</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">${arr</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-variable)">@</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-variable)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>a b </span><span class="token number">1</span><span> </span><span class="token number">2</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>declare -f</code>: 声明函数
在函数定义之前可以先声明</li>
</ul>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -f call_script
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">call_script</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">] - call declare_test.sh&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>declare -x</code>: 声明环境变量</li>
</ul>
<p class="my-4 leading-7">声明变量为环境变量，可在当前Shell进程及其子进程中使用。</p>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi declare.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -i </span><span class="token assign-left" style="color:var(--code-token-variable)">intval</span><span class="token operator">=</span><span class="token number">123</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -r </span><span class="token assign-left" style="color:var(--code-token-variable)">rdval</span><span class="token operator">=</span><span class="token number">123</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -a </span><span class="token assign-left" style="color:var(--code-token-variable)">arr</span><span class="token operator">=</span><span class="token number">123</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -f call_script
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">declare</span><span> -x DECLARE_XVAL  </span><span class="token" style="color:var(--code-token-comment)"># 声明了一个环境变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">call_script</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">] - call declare_test.sh&quot;</span><span>  
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token assign-left" style="color:var(--code-token-variable)">DECLARE_XVAL</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;This_is_a_TEST_program&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#主进程中赋值环境变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">bash</span><span> declare_test.sh   </span><span class="token" style="color:var(--code-token-comment)">#调用子脚本，在子进程中使用环境变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>call_script   </span><span class="token" style="color:var(--code-token-comment)">#调用声明的函数</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">子进程脚本如下：
<code>test@test-PC:~/share/1$ vi declare_test.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash  </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">] - DECLARE_XVAL=</span><span class="token" style="color:var(--code-token-variable)">${DECLARE_XVAL}</span><span class="token" style="color:var(--code-token-string)">&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">调用主脚本，执行结果如下,在子脚本中打印出了环境变量的值。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/hare/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> declare.sh 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>declare.sh</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> - call declare_test.sh
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>declare_test.sh</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> - </span><span class="token assign-left" style="color:var(--code-token-variable)">DECLARE_XVAL</span><span class="token operator">=</span><span>This_is_a_TEST_program</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">如果单独调用子脚本，这个变量是没有赋值的。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> declare_test.sh 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>declare_test.sh</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> - </span><span class="token assign-left" style="color:var(--code-token-variable)">DECLARE_XVAL</span><span class="token operator">=</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">注意</strong>：
实际测试，如果<code>declare</code>声明的变量是在函数体内，则变量的作用域也仅是函数体内有效。具体原理尚未深究。</p>
<h2 id="2-变量的应用" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">2 变量的应用<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-变量的应用">#</a></h2>
<h3 id="21-变量的作用域" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2.1 变量的作用域<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#21-变量的作用域">#</a></h3>
<h4 id="211-全局变量" class="mt-8 leading-6 text-lg title_fb7eb">2.1.1 全局变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#211-全局变量">#</a></h4>
<p class="my-4 leading-7">全局变量的作用域是从变量定义位置开始，到Shell进程结束，全局变量的作用域不包含当前进程的子进程。<br/>
<!-- -->全局变量的声明：
<code>VariableName=Value</code>
如<code>var=&quot;abc&quot;</code>或者<code>global var=&quot;abc&quot;</code>，以下示例来演示全局变量的作用域。</p>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi global.sh  </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">func1</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">#依次打印[进程ID]&lt;脚本名:函数名:行号&gt;  变量名称=变量值</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;main_var=</span><span class="token" style="color:var(--code-token-variable)">$main_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">func2</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token assign-left" style="color:var(--code-token-variable)">main_var</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;This is main_var&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#在func2中定义了全局变量，作用域从定义的位置开始到进程结束</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;main_var=</span><span class="token" style="color:var(--code-token-variable)">$main_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">main</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    func1     </span><span class="token" style="color:var(--code-token-comment)">#调用func1，此时main_var还未定义</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    func2     </span><span class="token" style="color:var(--code-token-comment)">#调用func2，此时main_var已经定义</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;main_var=</span><span class="token" style="color:var(--code-token-variable)">$main_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">source</span><span> source.sh   </span><span class="token" style="color:var(--code-token-comment)">#用source调用脚本，souce.sh脚本中的代码导入到当前进程中。 注意，这里还是当前的shell进程</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;source_var=</span><span class="token" style="color:var(--code-token-variable)">$source_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">bash</span><span> extern.sh   </span><span class="token" style="color:var(--code-token-comment)">#用bash调用脚本，注意，extern.sh脚本是开启新的进程去执行</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;extern_var=</span><span class="token" style="color:var(--code-token-variable)">$extern_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">main</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">在以下脚本中调用的两个脚本分别定义如下：
<code>test@test-PC:~/share/1$ vi source.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash  </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">source_var</span><span class="token operator">=</span><span>&quot;This is source_var</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi extern.sh</code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">print_var</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>     </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;main_var=</span><span class="token" style="color:var(--code-token-variable)">$main_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">set_var</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>     </span><span class="token assign-left" style="color:var(--code-token-variable)">extern_var</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;This is extern_var&quot;</span><span>  </span><span class="token" style="color:var(--code-token-comment)">#定义了全局变量，只在当前进程有效</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">print_var
</span><span style="display:block;padding:0 1.25rem">set_var</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">执行主脚本<code>global.sh</code>，结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>test@test-PC:~/work/study/shell/share/1$ bash global.sh 
[28581]&lt;global.sh:func1:4&gt;     : main_var=
[28581]&lt;global.sh:func2:9&gt;     : main_var=This is main_var
[28581]&lt;global.sh:main:15&gt;     : main_var=This is main_var
[28581]&lt;global.sh:main:17&gt;     : source_var=This is source_var
[28586]&lt;extern.sh:print_var:4&gt; : main_var=
[28581]&lt;global.sh:main:20&gt;     : extern_var=
</code></div></div>
<p class="my-4 leading-7">说明：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">1）<code>&lt;global.sh:func1:4&gt;</code>函数位置，<code>main_var</code>尚未定义，所以值为空。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">2）<code>&lt;global.sh:func2:9&gt;</code>函数位置，<code>main_var</code>已定义，打印值有效。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">3）<code>&lt;global.sh:main:15&gt;</code>在<code>main</code>在<code>func2</code>后执行，<code>main_var</code>已定义，值有效。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">4）<code>&lt;global.sh:main:17&gt;</code>变量<code>source_var</code>在<code>source.sh</code>定义，并且以source的方式导入，还在当前进程中，所以变量<code>source_var</code>有效。 以都是在同一进程内运行，进程ID:28581。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">5）<code>&lt;extern.sh:print_var:4&gt;</code>，当前是在新进程中运行，进程ID:28286。它打印主进程main_var是无效的，因为已经不在变量的作用域内。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">6）<code>&lt;global.sh:main:20&gt;</code> 同理，<code>extern_var</code>是在子进程<code>extern.sh</code>中定义，也已经超出了变量的作用域，打印无效。</p>
</li>
</ul>
<h4 id="212-局部变量" class="mt-8 leading-6 text-lg title_fb7eb">2.1.2 局部变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#212-局部变量">#</a></h4>
<p class="my-4 leading-7">局部变量的作用域是在函数体内定义的位置开始，到函数执行完毕。<br/>
<!-- -->局部变量的定义，使用<code>local</code>来定义局部变量，<code>local</code>只能在函数中使用。<br/>
<code>local VariableName=Value</code>，如<code>local var=123</code>。如下示例演示局部变量的作用域。</p>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi local.sh</code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">func1</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">local</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">local_var</span><span class="token operator">=</span><span class="token number">3</span><span>    </span><span class="token" style="color:var(--code-token-comment)">#定义了局部变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;local_var=</span><span class="token" style="color:var(--code-token-variable)">$local_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">main</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem">    func1
</span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;local_var=</span><span class="token" style="color:var(--code-token-variable)">$local_var</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>  </span><span class="token" style="color:var(--code-token-comment)">#在函数外打印局部变量的值</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">main</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">调用执行结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/work/study/shell/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> local.sh 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">1491</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>local.sh:func1:</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">5</span><span class="token operator">&gt;</span><span>       </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">local_var</span><span class="token operator">=</span><span class="token number">3</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">1491</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>local.sh:main:1</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">0</span><span class="token operator">&gt;</span><span>       </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">local_var</span><span class="token operator">=</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">可以看到，<code>local_var</code>变量只是在函数<code>func</code> 是有效的，函数外打印无效。</p>
<h4 id="213-环境变量" class="mt-8 leading-6 text-lg title_fb7eb">2.1.3 环境变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#213-环境变量">#</a></h4>
<p class="my-4 leading-7">环境变量对当前Shell进程及其子进程都是生效的，但不对当前Shell的父进程生效，不同Shell进程也是不生效的。<br/>
<!-- -->假如脚本间有如下调用关系：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>A.sh -&gt; B.sh -&gt;C.sh   #A.sh调用B.sh, B.sh调用C.sh
Z.sh                  #Z.sh独立调用
</code></div></div>
<p class="my-4 leading-7">在脚本<code>B.sh</code>定义了环境变量，那么变量在<code>B.sh</code>和<code>C.sh</code>是生效的，但是对于调用它的<code>A.sh</code>是不生效的， 而<code>Z.sh</code>独立进程调用，所以<code>B.sh</code>中定义的环境变量在<code>Z.sh</code>也是无效的。</p>
<p class="my-4 leading-7">环境变量的声明：
<code>export VARIABLENAME=Value</code>，如<code>local PROJECT_NAME=menu</code>。<br/>
<!-- -->也可以<br/>
<code>declare -x VARIABLENAME=Value</code>,如<code>declare PROJECT_NAME=menu</code>。<br/>
<!-- -->一般我们习惯用大写字母表示环境变量，以下示例演示环境变量的作用域:</p>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi export.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">func1</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">MAIN_ENV</span><span class="token operator">=</span><span>project    </span><span class="token" style="color:var(--code-token-comment)">#声明了环境变量MAIN_ENV</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">main</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem">    func1
</span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">bash</span><span> extern.sh   </span><span class="token" style="color:var(--code-token-comment)">#开辟新进程调用子脚本</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;EXTERN_ENV=</span><span class="token" style="color:var(--code-token-variable)">$EXTERN_ENV</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#打印子进程环境变量EXTERN_ENV</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">main</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi extern.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">print_env</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">EXTERN_ENV</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;extern_env_value&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#声明环境变量EXTERN_ENV</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;MAIN_ENV=</span><span class="token" style="color:var(--code-token-variable)">$MAIN_ENV</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#打印父进程环境变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">print_env
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-function)">bash</span><span> subextern.sh   </span><span class="token" style="color:var(--code-token-comment)">#开辟新进程调用子脚本</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><code>test@test-PC:~/share/1$ vi subextern.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem">  
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token function-name" style="color:var(--code-token-function)">sub_print_env</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>     </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;MAIN_ENV=</span><span class="token" style="color:var(--code-token-variable)">$MAIN_ENV</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>   </span><span class="token" style="color:var(--code-token-comment)">#打印爷爷进程的环境变量 </span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>     </span><span class="token class-name" style="color:var(--code-token-symbol)">printf</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;%-30s : %s</span><span class="token entity" style="color:var(--code-token-string)">\n</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;[</span><span class="token" style="color:var(--code-token-variable)">$$</span><span class="token" style="color:var(--code-token-string)">]&lt;</span><span class="token" style="color:var(--code-token-variable)">$(</span><span class="token" style="color:var(--code-token-function)">basename</span><span class="token" style="color:var(--code-token-variable)"> $0</span><span class="token" style="color:var(--code-token-variable)">)</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$FUNCNAME</span><span class="token" style="color:var(--code-token-string)">:</span><span class="token" style="color:var(--code-token-variable)">$LINENO</span><span class="token" style="color:var(--code-token-string)">&gt;&quot;</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;EXTERN_ENV=</span><span class="token" style="color:var(--code-token-variable)">$EXTERN_ENV</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>  </span><span class="token" style="color:var(--code-token-comment)">#打印父进程的环境变量</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">sub_print_env</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">调用主父进程脚本，执行结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> export.sh 
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">17698</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>extern.sh:print_env:</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">9</span><span class="token operator">&gt;</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">MAIN_ENV</span><span class="token operator">=</span><span>project
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">17700</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>subextern.sh:sub_print_env:</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">4</span><span class="token operator">&gt;</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">MAIN_ENV</span><span class="token operator">=</span><span>project
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">17700</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>subextern.sh:sub_print_env:</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">5</span><span class="token operator">&gt;</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">EXTERN_ENV</span><span class="token operator">=</span><span>extern_env_value
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">17697</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">&lt;</span><span>export.sh:main:1</span><span class="token operator file-descriptor" style="color:#EBCB8B;font-weight:bold">0</span><span class="token operator">&gt;</span><span>     </span><span class="token class-name" style="color:var(--code-token-symbol)">:</span><span> </span><span class="token assign-left" style="color:var(--code-token-variable)">EXTERN_ENV</span><span class="token operator">=</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">分析：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">1） 输出第一行：子进程<code>extern.sh</code>打印出了父进程中定义的<code>MAIN_ENV</code>值。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">2） 输出第二行：孙进程<code>subextern.sh</code>打印出了爷爷进程的环境变量<code>MAIN_ENV</code>。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">3） 输出第三行:孙进程<code>subextern.sh</code>打印出了父进程的环境变量<code>EXTERN_ENV</code>。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">4）输出第四行：主父进程<code>export.sh</code>尝试打印子进程<code>extern.sh</code>的环境变量<code>EXTERN_ENV</code>不成功，已经超出了环境变量的作用域范围。</p>
</li>
</ul>
<p class="my-4 leading-7">然后再编写一个独立调用的脚本，它与前三个脚本是不相关，不过是在同一Shell终端下执行。
<code>test@test-PC:~/share/1$ vi third.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>#!/bin/bash
  
printf &quot;%-30s : %s\n&quot; &quot;[$$]&lt;$(basename $0):$FUNCNAME:$LINENO&gt;&quot; &quot;ENV_NAME=$ENV_NAME&quot;
printf &quot;%-30s : %s\n&quot; &quot;[$$]&lt;$(basename $0):$FUNCNAME:$LINENO&gt;&quot; &quot;EXTERN_ENV=$EXTERN_ENV&quot;
</code></div></div>
<p class="my-4 leading-7">调用执行结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>test@test-PC:~/work/study/shell/share/1$ bash third.sh   
[16280]&lt;third.sh::3&gt;           : ENV_NAME=
[16280]&lt;third.sh::4&gt;           : EXTERN_ENV=
</code></div></div>
<p class="my-4 leading-7">因为与前面脚本<code>export.sh</code>与相互独立的，无法共享环境变量。</p>
<p class="my-4 leading-7">但是，它们都是在同一Shell终端下运行，也就是它有共同的父进程，所以如果需要共享环境变量，只需要在当前Shell终端下设置一个环境变量就可以了， 如：<br/>
<code>test@test-PC:~/share/1$ export EXPORT_TEST=&quot;export_test&quot;</code><br/>
<!-- -->然后在<code>export.sh</code>和<code>third.sh</code>脚本入口添加打印代码：<br/>
<code>echo EXPORT_TEST=$EXPORT_TEST</code><br/>
<!-- -->执行两个脚本，结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>test@test-PC:~/share/1$ bash export.sh 
EXPORT_TEST=export_test
test@test-PC:~/share/1$ bash third.sh 
EXPORT_TEST=export_test
</code></div></div>
<p class="my-4 leading-7">可以看到，打印出了共享的环境变量。也可以查看当前Shell终端的环境变量，已经包含了<code>EXPORT_TEST</code>。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>test@test-PC:~/share/1$ env | grep EXPORT_TEST
EXPORT_TEST=export_test
</code></div></div>
<p class="my-4 leading-7">但是，这也仅对当前登录的Shell终端生效，但关掉终端重新打开又是一个新的Shell终端，要想永久生效，可以写入环境变量配置文件，如<code>~/.bashrc</code>或<code>~/.bash_profile</code>等 。Shell终端在登录的时候会自动加载共同的环境变量配置文件，保持在整个终端持续期间生效。</p>
<h3 id="22-变量替换" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2.2 变量替换<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#22-变量替换">#</a></h3>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider">
<thead>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<th class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">表达式</th>
<th class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">案例说明</th>
</tr>
</thead>
<tbody>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>${var:-word}</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">如果变量var已经设置且非空，结果为var的值，否则结果为word</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>${var:=word}</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">如果变量var已经设置且非空，结果为var的值，否则设置var为word</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>${var:+word}</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">如果变量var已经设置且非空，则设置var的值为word;否则不替换</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>${var:?word}</code></td>
<td class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">如果变量var已经设置且非空，则替换为word，否则退出shell。</td>
</tr>
</tbody>
</table>
<h3 id="23-变量嵌套" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2.3 变量嵌套<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#23-变量嵌套">#</a></h3>
<p class="my-4 leading-7">变量嵌套一般是变量名中仍然包含变量，需要做二次解析，最终求出变量的结果。</p>
<h4 id="231-eval" class="mt-8 leading-6 text-lg title_fb7eb">2.3.1 <code>eval</code><a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#231-eval">#</a></h4>
<p class="my-4 leading-7"><code>eval</code>命令将会首先扫描命令行进行所有的替换，然后再执行命令。
<code>test@test-PC:~/share/1$ vi eval.sh </code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var1</span><span class="token operator">=</span><span>abc
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var2</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&#x27;It sales $125.00&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var3</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;It&#x27;s my book.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var4</span><span class="token operator">=</span><span class="token number">4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var5</span><span class="token operator">=</span><span class="token number">3.14159</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">for</span><span> </span><span class="token for-or-select" style="color:var(--code-token-variable)">i</span><span> </span><span class="token" style="color:var(--code-token-keyword)">in</span><span> </span><span class="token" style="color:var(--code-token-variable)">`</span><span class="token" style="color:var(--code-token-function)">seq</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">1</span><span class="token" style="color:var(--code-token-variable)"> </span><span class="token number" style="color:var(--code-token-variable)">5</span><span class="token" style="color:var(--code-token-variable)">`</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">do</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token class-name" style="color:var(--code-token-symbol)">eval</span><span> </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;var</span><span class="token" style="color:var(--code-token-variable)">${i}</span><span class="token" style="color:var(--code-token-string)">=\</span><span class="token" style="color:var(--code-token-variable)">${var${i}</span><span class="token" style="color:var(--code-token-string)">}&quot;</span><span>  
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">#eval echo &quot;var${i}=&#x27;$&#x27;{var${i}}&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">done</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">如下，<code>i</code>也循环变量，需要<code>eval</code>将字符串的变量解析，然后<code>echo</code>执行打印。外层变量的<code>$</code>要做转义，否则再未被解析之前会被认为是非法的引用。当然转义也可以用单引号代替。</p>
<h4 id="232-varname变量名前缀" class="mt-8 leading-6 text-lg title_fb7eb">2.3.2 <code>${!varname*}</code>变量名前缀<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#232-varname变量名前缀">#</a></h4>
<p class="my-4 leading-7">扩展为名称以 prefix 开始的变量名，匹配<code>varname</code>为形状的所有变量名。
先从简单示例开始：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">name</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;Tom&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">column</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;name&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-variable)">${</span><span class="token operator" style="color:var(--code-token-variable)">!</span><span class="token" style="color:var(--code-token-variable)">column}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><code>column</code>先替换为变量 <code>name</code>，然后再取变量值，运行结果为：<code>Tom</code>
然后再实现上一例子：
<code>test@test-PC:~/share/1$ vi eval.sh</code></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token shebang" style="color:#EBCB8B;font-weight:bold">#!/bin/bash</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var1</span><span class="token operator">=</span><span>abc
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var2</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&#x27;It sales $125.00&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var3</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;It&#x27;s my book.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var4</span><span class="token operator">=</span><span class="token number">4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var5</span><span class="token operator">=</span><span class="token number">3.14159</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">for</span><span> </span><span class="token for-or-select" style="color:var(--code-token-variable)">var</span><span> </span><span class="token" style="color:var(--code-token-keyword)">in</span><span> </span><span class="token" style="color:var(--code-token-variable)">${</span><span class="token operator" style="color:var(--code-token-variable)">!</span><span class="token" style="color:var(--code-token-variable)">var*}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">do</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>   </span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;</span><span class="token" style="color:var(--code-token-variable)">$var</span><span class="token" style="color:var(--code-token-string)">=</span><span class="token" style="color:var(--code-token-variable)">${</span><span class="token operator" style="color:var(--code-token-variable)">!</span><span class="token" style="color:var(--code-token-variable)">var}</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">done</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">执行结果如下：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token" style="color:var(--code-token-function)">bash</span><span> eval.sh   
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var1</span><span class="token operator">=</span><span>abc
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var2</span><span class="token operator">=</span><span>It sales </span><span class="token" style="color:var(--code-token-variable)">$125</span><span>.00
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var3</span><span class="token operator">=</span><span>It&#x27;s my book.
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var4</span><span class="token operator">=</span><span class="token number">4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token assign-left" style="color:var(--code-token-variable)">var5</span><span class="token operator">=</span><span class="token number">3.14159</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h2 id="3-awksed内使用外部变量" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">3 awk/sed内使用外部变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-awksed内使用外部变量">#</a></h2>
<p class="my-4 leading-7">在实际编程中，经常会遇到把shell定义的变量传入给<code>sed</code>和<code>awk</code>使用，这跟我们普通的命令与函数传参略微有所不同。</p>
<h4 id="31-sed使用外部变量" class="mt-8 leading-6 text-lg title_fb7eb">3.1 sed使用外部变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#31-sed使用外部变量">#</a></h4>
<p class="my-4 leading-7">以下三种方法都是可以的</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token assign-left" style="color:var(--code-token-variable)">str</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;DEF&quot;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;ABC123FGH&quot;</span><span class="token operator">|</span><span class="token" style="color:var(--code-token-function)">sed</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;s/123/&quot;</span><span class="token" style="color:var(--code-token-variable)">${str}</span><span class="token" style="color:var(--code-token-string)">&quot;/g&quot;</span><span>    
</span></span><span style="display:block;padding:0 1.25rem">ABCDEFFGH
</span><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token assign-left" style="color:var(--code-token-variable)">str</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;DEF&quot;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;ABC123FGH&quot;</span><span class="token operator">|</span><span class="token" style="color:var(--code-token-function)">sed</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;s/123/&#x27;</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span class="token" style="color:var(--code-token-variable)">${str}</span><span class="token" style="color:var(--code-token-string)">&quot;</span><span>&#x27;/g</span><span class="token" style="color:var(--code-token-string)">&#x27;  
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">ABCDEFFGH
</span><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-string)">test@test-PC:~/share/1$ str=&quot;DEF&quot;;echo &quot;ABC123FGH&quot;|sed &#x27;</span><span>s/123/</span><span class="token" style="color:var(--code-token-string)">&#x27;${str}&#x27;</span><span>/g&#x27;  
</span></span><span style="display:block;padding:0 1.25rem">ABCDEFFGH</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="32-awk使用外部变量" class="mt-8 leading-6 text-lg title_fb7eb">3.2 awk使用外部变量<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#32-awk使用外部变量">#</a></h4>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>test@test-PC:~/share/1$ </span><span class="token assign-left" style="color:var(--code-token-variable)">str</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;DEF&quot;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span class="token class-name" style="color:var(--code-token-symbol)">echo</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;ABC123FGH&quot;</span><span class="token operator">|</span><span class="token" style="color:var(--code-token-function)">awk</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;{gsub(&quot;123&quot;,&quot;&#x27;</span><span>&quot;</span><span class="token" style="color:var(--code-token-variable)">${str}</span><span class="token" style="color:var(--code-token-string)">&quot;&#x27;&quot;</span><span>,</span><span class="token" style="color:var(--code-token-variable)">$1</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>print </span><span class="token" style="color:var(--code-token-variable)">$1</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-string)">&#x27;  
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">ABCDEFFGH
</span><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-string)">test@test-PC:~/share/1$ str=&quot;DEF&quot;;echo &quot;ABC123FGH&quot;|awk -v var=${str} &#x27;</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>gsub</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&quot;123&quot;</span><span>,var,</span><span class="token" style="color:var(--code-token-variable)">$1</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>print </span><span class="token" style="color:var(--code-token-variable)">$1</span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>&#x27; 
</span></span><span style="display:block;padding:0 1.25rem">ABCDEFFGH</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"><div class="flex text-sm text-text-2 leading-6 sm:leading-8 font-medium"><p>最近更新时间<!-- -->: <span>2025/3/19 06:31:23</span></p></div></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"><a href="/program/Shell/Shell参数传递.html" class="link_a7cea pager-link_e0d2d"><span class="desc_dcc01">上一页</span><span class="title_a3acb">Shell参数传递</span></a></div><div class="next_c11be flex flex-col"><a href="/program/Shell/Shell字符串处理.html" class="link_a7cea pager-link_e0d2d next_ad355"><span class="desc_dcc01">下一页</span><span class="title_a3acb">Shell字符串处理</span></a></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">本页目录</div><nav class="mt-1"><ul class="relative"><li><a href="#1-变量的声明" title="1. 变量的声明" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">1. 变量的声明</span></a></li><li><a href="#11-常用内置变量" title="1.1 常用内置变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">1.1 常用内置变量</span></a></li><li><a href="#12-变量的声明" title="1.2 变量的声明" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">1.2 变量的声明</span></a></li><li><a href="#121-变量的声明与赋值" title="1.2.1 变量的声明与赋值" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">1.2.1 变量的声明与赋值</span></a></li><li><a href="#122-删除变量" title="1.2.2 删除变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">1.2.2 删除变量</span></a></li><li><a href="#123-readonly只读变量" title="1.2.3 readonly只读变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">1.2.3 <code>readonly</code>只读变量</span></a></li><li><a href="#124-declare声明变量" title="1.2.4 declare声明变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">1.2.4 <code>declare</code>声明变量</span></a></li><li><a href="#2-变量的应用" title="2 变量的应用" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">2 变量的应用</span></a></li><li><a href="#21-变量的作用域" title="2.1 变量的作用域" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2.1 变量的作用域</span></a></li><li><a href="#211-全局变量" title="2.1.1 全局变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">2.1.1 全局变量</span></a></li><li><a href="#212-局部变量" title="2.1.2 局部变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">2.1.2 局部变量</span></a></li><li><a href="#213-环境变量" title="2.1.3 环境变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">2.1.3 环境变量</span></a></li><li><a href="#22-变量替换" title="2.2 变量替换" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2.2 变量替换</span></a></li><li><a href="#23-变量嵌套" title="2.3 变量嵌套" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2.3 变量嵌套</span></a></li><li><a href="#231-eval" title="2.3.1 eval" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">2.3.1 <code>eval</code></span></a></li><li><a href="#232-varname变量名前缀" title="2.3.2 ${!varname*}变量名前缀" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">2.3.2 <code>${!varname*}</code>变量名前缀</span></a></li><li><a href="#3-awksed内使用外部变量" title="3 awk/sed内使用外部变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">3 awk/sed内使用外部变量</span></a></li><li><a href="#31-sed使用外部变量" title="3.1 sed使用外部变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">3.1 sed使用外部变量</span></a></li><li><a href="#32-awk使用外部变量" title="3.2 awk使用外部变量" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">3.2 awk使用外部变量</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
